<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management App</title>
    <script src="https://cdn.jsdelivr.net/npm/angular@1.8.2/angular.min.js"></script>
</head>
<body ng-app="taskApp" ng-controller="taskController">

<h1>Task Management App</h1>

<form ng-submit="addTask()">
    <input type="text" ng-model="newTask.title" placeholder="Task Title" required>
    <input type="text" ng-model="newTask.description" placeholder="Task Description">
    <button type="submit">Add Task</button>
</form>

<h2>Tasks</h2>
<ul>
    <li ng-repeat="task in tasks">
        <input type="checkbox" ng-model="task.completed" ng-change="updateTask(task)">
        <span ng-class="{'completed-task': task.completed}">{{ task.title }}: {{ task.description }}</span>
        <button ng-click="deleteTask(task.id)">Delete</button>
    </li>
</ul>

<script>
    const app = angular.module("taskApp", []);
    app.controller("taskController", function($scope, $http) {
        $scope.tasks = [];
        $scope.newTask = {};

        $scope.loadTasks = function() {
            $http.get("/tasks").then(response => {
                $scope.tasks = response.data;
            });
        };

        $scope.addTask = function() {
            $http.post("/tasks", $scope.newTask).then(response => {
                $scope.tasks.push(response.data);
                $scope.newTask = {};
            });
        };

        $scope.updateTask = function(task) {
            $http.put("/tasks/" + task.id, task).then(response => {
                // Optionally update the UI
            });
        };

        $scope.deleteTask = function(id) {
            $http.delete("/tasks/" + id).then(response => {
                $scope.tasks = $scope.tasks.filter(task => task.id !== id);
            });
        };

        $scope.loadTasks(); // Load tasks on page load
    });
</script>

<style>
    .completed-task {
        text-decoration: line-through;
        color: grey;
    }
</style>

</body>
</html>
